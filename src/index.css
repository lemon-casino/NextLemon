@import "tailwindcss";
@plugin "daisyui";

/* 引入高端字体 */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@300;400;500;600;700&display=swap');

/* 自定义高端主题配置 */
@theme {
  /* 
     Premium Dark Palette 
     Base: Deep Void/Space Blue
     Primary: Electric Violet/Neon Purple
     Secondary: Cyan/Turquoise
     Accent: Hot Pink/Magenta
  */
  --color-primary: oklch(65% 0.22 280);      /* Electric Violet */
  --color-primary-content: oklch(98% 0.05 280);
  
  --color-secondary: oklch(75% 0.18 220);    /* Electric Blue */
  --color-secondary-content: oklch(10% 0.1 220);

  --color-accent: oklch(70% 0.2 340);        /* Neon Pink */
  --color-accent-content: oklch(98% 0.02 340);

  --color-neutral: oklch(20% 0.03 260);      /* Deep Grey */
  --color-neutral-content: oklch(90% 0.02 260);

  --color-base-100: oklch(15% 0.02 260);     /* Darker Surface */
  --color-base-200: oklch(12% 0.02 260);     /* Background */
  --color-base-300: oklch(10% 0.02 260);     /* Deepest Background */
  --color-base-content: oklch(90% 0.02 260); /* Text */

  --color-info: oklch(70% 0.15 240);
  --color-success: oklch(75% 0.18 150);
  --color-warning: oklch(80% 0.15 80);
  --color-error: oklch(65% 0.2 30);

  /* Glassmorphism Variables */
  --glass-border: 1px solid rgba(255, 255, 255, 0.08);
  --glass-bg: rgba(20, 20, 30, 0.6);
  --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
}

/* 基础样式 */
html, body, #root {
  @apply h-full w-full m-0 p-0 overflow-hidden;
}

body {
  @apply bg-base-300 text-base-content;
  font-family: 'Outfit', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  /* 优化 WebView 字体渲染 */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  background-image: 
    radial-gradient(circle at 15% 50%, rgba(124, 58, 237, 0.08), transparent 25%), 
    radial-gradient(circle at 85% 30%, rgba(56, 189, 248, 0.08), transparent 25%);
}

/* Utility Classes for Glassmorphism */
.glass-panel {
  @apply backdrop-blur-xl bg-base-100/60 border border-white/5 shadow-xl;
}

.glass-panel-hover {
  @apply transition-all duration-300 hover:bg-base-100/80 hover:border-white/10 hover:shadow-2xl hover:scale-[1.01];
}

.glass-btn {
  @apply backdrop-blur-md bg-white/5 border border-white/10 text-white transition-all duration-200 hover:bg-white/10 active:scale-95;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  @apply w-1.5 h-1.5;
}

::-webkit-scrollbar-track {
  @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-white/10 rounded-full hover:bg-white/20 transition-colors;
}

/* React Flow Base Styles Override */
.react-flow__background {
  @apply bg-transparent; 
}

.react-flow__node {
  @apply shadow-lg rounded-xl border-0 !important;
}

/* Grid Dots Customization to fit Dark Theme */
.react-flow__background circle {
  fill: oklch(100% 0 0 / 10%); /* Subtle white dots */
}

.react-flow__edge-path {
  @apply stroke-2 stroke-base-content/30;
}

.react-flow__edge.selected .react-flow__edge-path {
  stroke: var(--color-primary);
  stroke-width: 3;
  filter: drop-shadow(0 0 4px var(--color-primary));
}

.react-flow__controls {
  @apply glass-panel rounded-xl overflow-hidden shadow-2xl !important;
  button {
     @apply bg-transparent border-b border-white/5 hover:bg-white/10 text-base-content/80 !important;
     &:last-child {
       @apply border-b-0;
     }
  }
}

.react-flow__minimap {
  @apply glass-panel rounded-xl overflow-hidden !important;
  mask-image: radial-gradient(white, black);
}

/* Modal Animations */
@keyframes modalIn {
  0% { opacity: 0; transform: scale(0.95) translateY(10px); }
  100% { opacity: 1; transform: scale(1) translateY(0); }
}

@keyframes overlayIn {
  0% { opacity: 0; backdrop-filter: blur(0px); }
  100% { opacity: 1; backdrop-filter: blur(4px); }
}

.modal-content-enter {
  animation: modalIn 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.modal-backdrop-enter {
  animation: overlayIn 0.3s ease-out forwards;
}

/* Input Styles Override for Premium Look */
.input, .select, .textarea {
  @apply bg-base-100/50 border-white/10 text-base-content backdrop-blur-sm transition-all duration-300;
  &:focus {
    @apply border-primary/50 bg-base-100/80 ring-2 ring-primary/20 outline-none;
    box-shadow: 0 0 20px -5px var(--color-primary);
  }
}

/* Button Refinements */
.btn {
  @apply rounded-lg font-medium tracking-wide transition-all duration-300;
  &:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px -2px rgba(0,0,0,0.2);
  }
  &:active {
    transform: translateY(0);
  }
}

.btn-primary {
  @apply bg-primary border-primary text-white;
  box-shadow: 0 0 20px -5px var(--color-primary);
  &:hover {
    box-shadow: 0 0 25px -3px var(--color-primary);
    filter: brightness(1.1);
  }
}

/* Sidebar & Node List Items */
.dndnode {
  @apply glass-panel p-3 rounded-xl cursor-grab active:cursor-grabbing transition-all duration-200 border-l-4 border-l-transparent hover:border-l-primary hover:bg-base-100;
}
